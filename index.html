[file name]: index.html
[file content begin]
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGA - SystÃ¨me Gestion Agents</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-72x72.png">
    <meta name="theme-color" content="#2c3e50">
    <!-- CDN pour export Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <!-- En-tÃªte -->
    <header class="app-header">
        <div class="header-content">
            <h1>ğŸ“‹ SYSTEME DE GESTION DES AGENTS</h1>
            <p class="subtitle" id="pageSubtitle">Menu Principal</p>
        </div>
        <div class="header-actions">
            <button id="backBtn" class="btn-icon" title="Retour" style="display:none">â†</button>
            <button id="syncBtn" class="btn-icon" title="Synchroniser">ğŸ”„</button>
            <button id="themeBtn" class="btn-icon" title="Changer thÃ¨me">ğŸŒ™</button>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="horizontal-nav" id="topNav">
        <button class="nav-tab active" data-page="menu">ğŸ  Accueil</button>
        <button class="nav-tab" data-page="agents">ğŸ‘¥ Agents</button>
        <button class="nav-tab" data-page="planning">ğŸ“… Planning</button>
        <button class="nav-tab" data-page="stats">ğŸ“Š Stats</button>
        <button class="nav-tab" data-page="radios">ğŸ“» Radios</button>
        <button class="nav-tab" data-page="panique">ğŸš¨ Panique</button>
        <button class="nav-tab" data-page="habillement">ğŸ‘• Habillement</button>
        <button class="nav-tab" data-page="avertissements">âš ï¸ Avertissements</button>
        <button class="nav-tab" data-page="conges">ğŸ–ï¸ CongÃ©s</button>
        <button class="nav-tab" data-page="outils">ğŸ› ï¸ Outils</button>
    </nav>

    <!-- Contenu principal -->
    <main class="main-content">
        <!-- Pages -->
        <div id="pageMenu" class="page active">
            <div class="menu-grid">
                <!-- Contenu gÃ©nÃ©rÃ© par JavaScript -->
            </div>
        </div>

        <div id="pageAgents" class="page">
            <div class="page-content" id="agentsContent"></div>
        </div>
        
        <div id="pagePlanning" class="page">
            <div class="page-content" id="planningContent"></div>
        </div>
        
        <div id="pageStats" class="page">
            <div class="page-content" id="statsContent"></div>
        </div>
        
        <div id="pageRadios" class="page">
            <div class="page-content" id="radiosContent"></div>
        </div>
        
        <div id="pagePanique" class="page">
            <div class="page-content" id="paniqueContent"></div>
        </div>
        
        <div id="pageHabillement" class="page">
            <div class="page-content" id="habillementContent"></div>
        </div>
        
        <div id="pageAvertissements" class="page">
            <div class="page-content" id="avertissementsContent"></div>
        </div>
        
        <div id="pageConges" class="page">
            <div class="page-content" id="congesContent"></div>
        </div>
        
        <div id="pageOutils" class="page">
            <div class="page-content" id="outilsContent"></div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-info">
            <span id="dbInfo">Base: Chargement...</span>
            <span id="syncStatus">âš¡ En ligne</span>
        </div>
        <div class="footer-version">
            SGA PWA v1.0 | Â© 2024
        </div>
    </footer>

    <!-- Modal -->
    <div id="modalOverlay" class="modal-overlay" style="display:none"></div>
    <div id="modalContainer" class="modal-container" style="display:none"></div>

    <!-- Scripts - ORDRE CRITIQUE -->
    <script src="database.js"></script>
    <script src="planning-engine.js"></script>
    <script src="export-utils.js"></script>
    
    <!-- DÃ©finir les classes globales -->
    <script>
        // Attendre que DOM soit prÃªt
        document.addEventListener('DOMContentLoaded', function() {
            console.log('=== INITIALISATION SGA ===');
            
            // VÃ©rifier que toutes les classes sont disponibles
            if (typeof SGA_Database === 'undefined') {
                console.error('âŒ SGA_Database non dÃ©fini');
                return;
            }
            
            if (typeof PlanningEngine === 'undefined') {
                console.error('âŒ PlanningEngine non dÃ©fini');
                return;
            }
            
            if (typeof ExportUtils === 'undefined') {
                console.error('âŒ ExportUtils non dÃ©fini');
                return;
            }
            
            // DÃ©finir DatabaseManager comme alias de SGA_Database
            window.DatabaseManager = SGA_Database;
            
            console.log('âœ… Toutes les classes sont prÃªtes');
            
            // Initialiser l'application aprÃ¨s un court dÃ©lai
            setTimeout(function() {
                if (typeof SGA_App !== 'undefined') {
                    window.sgaApp = new SGA_App();
                    window.SGA_App = SGA_App;
                    sgaApp.initialize();
                } else {
                    console.error('âŒ SGA_App non dÃ©fini - VÃ©rifiez app.js');
                }
            }, 100);
        });
    </script>
    
    <!-- Charger app.js APRÃˆS avoir dÃ©fini les dÃ©pendances -->
    <script src="app.js"></script>

    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js')
                    .then(function(registration) {
                        console.log('âœ… Service Worker enregistrÃ© avec succÃ¨s');
                    })
                    .catch(function(error) {
                        console.log('âš ï¸ Service Worker non enregistrÃ©:', error);
                    });
            });
        }
    </script>
    <!-- SystÃ¨me de diagnostic visible -->
<div id="mobileDebug" style="
    position: fixed;
    top: 10px;
    right: 10px;
    background: #e74c3c;
    color: white;
    padding: 15px;
    border-radius: 10px;
    z-index: 99999;
    font-size: 14px;
    display: none;
    max-width: 300px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
">
    <strong>âš ï¸ ERREUR DETECTÃ‰E</strong>
    <div id="debugMessage"></div>
    <div style="margin-top: 10px;">
        <button onclick="location.reload()" style="
            background: white;
            color: #e74c3c;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            margin: 5px;
        ">ğŸ”„ Recharger</button>
        <button onclick="localStorage.clear(); location.reload()" style="
            background: #f39c12;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            margin: 5px;
        ">ğŸ§¹ Vider cache</button>
    </div>
</div>

<script>
// VÃ©rification automatique des fichiers
function checkFilesLoaded() {
    const files = [
        'database.js',
        'planning-engine.js', 
        'export-utils.js',
        'app.js'
    ];
    
    let missingFiles = [];
    let loadedFiles = [];
    
    // VÃ©rifier chaque fichier
    files.forEach(file => {
        const script = Array.from(document.querySelectorAll('script[src]'))
            .find(s => s.src.includes(file));
        
        if (!script) {
            missingFiles.push(file);
        } else {
            loadedFiles.push(file);
        }
    });
    
    // Afficher les rÃ©sultats
    const debugDiv = document.getElementById('mobileDebug');
    const messageDiv = document.getElementById('debugMessage');
    
    if (missingFiles.length > 0) {
        messageDiv.innerHTML = `
            <p>Fichiers manquants:</p>
            <ul style="margin: 5px 0; padding-left: 20px;">
                ${missingFiles.map(f => `<li>${f}</li>`).join('')}
            </ul>
            <p>Fichiers chargÃ©s:</p>
            <ul style="margin: 5px 0; padding-left: 20px;">
                ${loadedFiles.map(f => `<li>${f}</li>`).join('')}
            </ul>
        `;
        debugDiv.style.display = 'block';
    } else {
        messageDiv.innerHTML = '<p style="color: #2ecc71;">âœ… Tous les fichiers sont chargÃ©s!</p>';
        debugDiv.style.display = 'block';
        debugDiv.style.background = '#2ecc71';
        
        // Masquer aprÃ¨s 5 secondes
        setTimeout(() => {
            debugDiv.style.display = 'none';
        }, 5000);
    }
    
    // VÃ©rifier les classes JavaScript
    setTimeout(() => {
        const classes = ['SGA_Database', 'PlanningEngine', 'ExportUtils', 'SGA_App'];
        const missingClasses = [];
        
        classes.forEach(cls => {
            if (typeof window[cls] === 'undefined') {
                missingClasses.push(cls);
            }
        });
        
        if (missingClasses.length > 0) {
            messageDiv.innerHTML += `
                <p>Classes manquantes:</p>
                <ul style="margin: 5px 0; padding-left: 20px;">
                    ${missingClasses.map(c => `<li>${c}</li>`).join('')}
                </ul>
            `;
            debugDiv.style.display = 'block';
        }
    }, 1000);
}

// VÃ©rifier au chargement
window.addEventListener('load', checkFilesLoaded);

// VÃ©rifier aussi aprÃ¨s 3 secondes (pour les scripts lents)
setTimeout(checkFilesLoaded, 3000);
</script>
</body>
</html>
[file content end]